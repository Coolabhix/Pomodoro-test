function currentTime(){let e=new Date,n=e.getHours(),t=e.getMinutes(),o=e.getSeconds(),s="AM";0===n&&(n=12),n>12&&(n-=12,s="PM"),n=n<10?"0"+n:n,t=t<10?"0"+t:t,o=o<10?"0"+o:o;let a=n+":"+t+":"+o+" "+s;document.getElementById("clock").innerText=a;setTimeout((function(){currentTime()}),1e3)}function posture(){var e=new Audio("music/posture.mp3");e.volume=1,e.play()}currentTime(),setInterval(posture,3e5);const musicContainer=document.querySelector(".music-container"),playBtn=document.querySelector("#play"),prevBtn=document.querySelector("#prev"),nextBtn=document.querySelector("#next"),audio=document.querySelector("#audio"),progress=document.querySelector(".progress"),progressContainer=document.querySelector(".progress-container"),title=document.querySelector("#title"),cover=document.querySelector("#cover"),tab=document.getElementById("tab-title"),songs=["Beethoven - FÃ¼r Elise","Bizet - Habanera","CHOPIN - NOCTURNE NO.20 IN C-SHARP MINOR OP.POSTH","CLAUDE DEBUSSY_  CLAIR DE LUNE","Dmitri Shostakovich - Waltz No. 2","Grieg_ Peer Gynt Suite No. 1, _In the Hall of the Mountain King_","Haendel - Sarabande","Johannes Brahms - Hungarian Dance No. 5","Mozart - Piano Sonata No. 16 in C Major, K.545 (1st Mvt)","Tchaikovsky - Valse Sentimentale","Tchaikovsky - Waltz of the Flowers","Wagner - Das Rheingold - Entry of the Gods Into Valhalla","Mozart - Lacrimosa","Prokofiev - Dance of the Knights","Beethoven - Virus"];let songIndex=13;function loadSong(e){title.innerText=e,audio.src=`music/${e}.mp3`,cover.src=`images/${e}.jpg`,tab.innerText=e,document.getElementById("title-img").href=cover.src,"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:e,artist:"Classical Music",artwork:[{src:cover.src,sizes:"96x96",type:"image/jpg"},{src:cover.src,sizes:"128x128",type:"image/jpg"},{src:cover.src,sizes:"192x192",type:"image/jpg"},{src:cover.src,sizes:"256x256",type:"image/jpg"},{src:cover.src,sizes:"384x384",type:"image/jpg"},{src:cover.src,sizes:"512x512",type:"image/jpg"}]}),navigator.mediaSession.setActionHandler("play",playSong),navigator.mediaSession.setActionHandler("pause",pauseSong),navigator.mediaSession.setActionHandler("previoustrack",prevSong),navigator.mediaSession.setActionHandler("nexttrack",nextSong))}function playSong(){musicContainer.classList.add("play"),playBtn.querySelector("i.fas").classList.remove("fa-play"),playBtn.querySelector("i.fas").classList.add("fa-pause"),audio.play()}function pauseSong(){musicContainer.classList.remove("play"),playBtn.querySelector("i.fas").classList.add("fa-play"),playBtn.querySelector("i.fas").classList.remove("fa-pause"),audio.pause()}function prevSong(){songIndex--,songIndex<0&&(songIndex=songs.length-1),loadSong(songs[songIndex]),playSong()}function nextSong(){songIndex++,songIndex>songs.length-1&&(songIndex=0),loadSong(songs[songIndex]),playSong()}function updateProgress(e){const{duration:n,currentTime:t}=e.srcElement,o=t/n*100;progress.style.width=`${o}%`}function setProgress(e){const n=this.clientWidth,t=e.offsetX,o=audio.duration;audio.currentTime=t/n*o}loadSong(songs[songIndex]),playBtn.addEventListener("click",(()=>{musicContainer.classList.contains("play")?pauseSong():playSong()})),prevBtn.addEventListener("click",prevSong),nextBtn.addEventListener("click",nextSong),audio.addEventListener("timeupdate",updateProgress),progressContainer.addEventListener("click",setProgress),audio.addEventListener("ended",nextSong),document.addEventListener("keydown",(function(e){"ArrowRight"===e.key&&nextSong()})),document.addEventListener("keypress",(function(e){const n=musicContainer.classList.contains("play");" "===e.key&&n?pauseSong():" "===e.key&&playSong()})),document.addEventListener("keydown",(function(e){"ArrowLeft"===e.key&&prevSong()})),audio.volume=1,document.addEventListener("keydown",(function(e){"ArrowUp"===e.key&&(audio.volume=audio.volume+.08)})),document.addEventListener("keydown",(function(e){"ArrowDown"===e.key&&(audio.volume=audio.volume-.08)}));var minutes=49,seconds=60,beep=new Audio("music/beep.mp3");function template(){document.getElementById("minutes").innerHTML=minutes,document.getElementById("seconds").innerHTML=seconds}function stop(){beep.play(),clearInterval(minutes_interval),clearInterval(seconds_interval),document.querySelector(".start").disabled=!1,document.querySelector(".start").classList.remove("tint")}function start(){beep.play(),document.querySelector(".start").disabled=!0,document.querySelector(".start").classList.add("tint"),document.getElementById("minutes").innerHTML=minutes,document.getElementById("seconds").innerHTML=seconds,minutes_interval=setInterval((function(){minutes-=1,document.getElementById("minutes").innerHTML=minutes}),6e4),seconds_interval=setInterval((function(){seconds-=1,document.getElementById("seconds").innerHTML=seconds,seconds<=0&&(minutes<=0&&(beep.play(),clearInterval(minutes_interval),clearInterval(seconds_interval),document.getElementById("done").innerHTML="Pomodoro session completed! take a break!",document.getElementById("done").classList.add("show_message")),seconds=60)}),1e3)}function restart(){beep.play(),minutes=50,seconds=60}function enter(e){"Enter"===e.key&&start(),document.removeEventListener("keypress",enter,!1)}function backspace(e){"Backspace"===e.key&&restart(),document.removeEventListener("keydown",backspace,!1)}document.addEventListener("keypress",enter),document.addEventListener("keydown",backspace);
